<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Leitor AFD | Control iD</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="icon.ico" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
</head>
<body>
  <!-- Ícone de ajuda -->
<div id="help-icon" title="Ajuda">
  <svg width="32" height="32" fill="#ef5350" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="12" fill="#222"/>
    <text x="12" y="18" text-anchor="middle" font-size="18" fill="#ffffff" font-family="Arial" font-weight="bold">?</text>
  </svg>
</div>

  <div id="help-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Como usar?</h2>
    <ul>
      <li><b>Escolha um arquivo AFD</b> clicando no botão "Escolher arquivo AFD".</li>
      <li><b>Digite o CPF ou PIS</b> do colaborador para filtrar os registros.</li>
      <li><b>Use os botões de filtro</b> para visualizar marcações, ajustes (inclusão, alteração e exclusão), eventos sensíveis e alterações de data/hora.</li>
      <li><b>Baixe o resultado</b> clicando em "Baixar Resultado".</li>
      <li>O aplicativo suporta arquivos dos layouts das Portarias 1510 e 671.</li>
    </ul>
  </div>
</div> 

  <div class="input-group">
    <label for="afdFile" tabindex="0">Escolher arquivo AFD</label>
    <input type="file" id="afdFile" accept=".txt" />
    
  
    <button id="limparBtn" onclick="limparTudo()" title="Limpar arquivo e resultado">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
        <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V6H6v7.5a.5.5 0 0 1-1 0v-8z"/>
        <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1 0-2H5V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h2.5a1 1 0 0 1 1 1zM6 1v1h4V1H6zM4 4v9a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4H4z"/>
      </svg>
    </button>
  </div>

  <label for="cpf">Digite o CPF/PIS (somente números):</label>
  <div class="input-group">
    <input type="text" id="cpf" maxlength="12" placeholder="Ex: 12345678900" />
   
    </svg>
  </div>

  <div class="container">

    <button class="filter-btn" onclick="filtrarMarcacoesRepC()">Marcações REP-C</button>
    <button class="filter-btn" onclick="filtrarMarcacoesRepp()">Marcações REP-P</button> 
    <button class="filter-btn" onclick="filtrarAjustesPorCPF()">Ajustes</button>
    <button class="filter-btn" onclick="filtrarEventosSensiveis()">Eventos sensíveis</button>
    <button class="filter-btn" onclick="filtrarAlteracoesDataHora()">Alterações de Data/Hora</button>  


  </div>

  <div id="loader"></div>

  <textarea id="output" readonly placeholder="Resultado aparecerá aqui..."></textarea>
  <button class="filter-btn" onclick="baixarResultado()">Baixar Resultado</button>


  <footer>
    <a href="https://github.com/fxlcaovini" id="github-link" target="_blank">Desenvolvido por Falcão</a>
  </footer>

  <script src="script.js"></script>
</body>
</html>